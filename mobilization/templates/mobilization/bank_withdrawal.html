{% extends 'mobilization/base.html' %} {% load static %} {% block content %}



<div class="main">
    <div style="background-color:#000; width:100%;">
        {% if messages %}
        {% for message in messages %}
        <p style="color: #97c8b3; font-size:30px; text-align:center;">{{ message }}</p>
        {% endfor %}
        {% endif %}
    </div>
    <div class="banner-container">
        <img src="{% static 'banking/img/banner.png' %}" alt="image" />
        <div class="banner-text">
            <h1>Bank Withdrawal</h1>
        </div>
    </div>
    <div class="form">

        <form id="networkForm" method="POST">
            {% csrf_token %}
            <div class="form-grid">
            
                <div class="input">
                    <label for="phone_number">Customer Number</label> <br />
                    <input type="tel" id="phone_number" name="phone_number" required placeholder="Customer Number" maxlength="10" />
                    <p id="Bankmessage" class="message"></p> <br> <!-- Message for number validation -->
                </div>
            
                <div class="input">
                    <label for="bank">Select Bank</label> <br />
                    <select id="bank" name="bank">
                        <option value="" disabled selected>Select Bank</option>
                        <option value="Ecobank">Ecobank</option>
                        <option value="Access_Bank">Access Bank</option>
                        <option value="Calbank">Cal Bank</option>
                        <option value="Fidelity">Fidelity Bank</option>
                        <option value="GTBank">GT Bank</option>
                        <!-- <option value="Adansi rural bank">Adansi rural bank</option>
                        <option value="Kwumawuman Bank">Kwumawuman Bank</option>
                        <option value="Pan Africa">Pan Africa</option>
                        <option value="SGSSB">SGSSB</option>
                        <option value="Atwima Rural Bank">Atwima Rural Bank</option>
                        <option value="Omnibsic Bank">Omnibsic Bank</option>
                        <option value="Omini bank">Omini bank</option>
                        <option value="Stanbic Bank">Stanbic Bank</option>
                        <option value="First Bank of Nigeria">First Bank of Nigeria</option>
                        <option value="Adehyeman Savings and loans">Adehyeman Savings and loans</option>
                        <option value="ARB Apex Bank Limited">ARB Apex Bank Limited</option>
                        <option value="Absa Bank">Absa Bank</option>
                        <option value="Agriculture Development bank">Agriculture Development bank</option>
                        <option value="Bank of Africa">Bank of Africa</option>
                        <option value="Bank of Ghana">Bank of Ghana</option>
                        <option value="Consolidated Bank Ghana">Consolidated Bank Ghana</option>
                        <option value="First Atlantic Bank">First Atlantic Bank</option>
                        <option value="First National Bank">First National Bank</option>
                        <option value="G-Money">G-Money</option>
                        <option value="GCB BanK LTD">GCB BanK LTD</option>
                        <option value="Ghana Pay">Ghana Pay</option>
                        <option value="GHL Bank Ltd">GHL Bank Ltd</option>
                        <option value="National Investment Bank">National Investment Bank</option>
                        <option value="Opportunity International Savings And Loans">Opportunity International Savings And Loans</option>
                        <option value="Republic Bank Ltd">Republic Bank Ltd</option>
                        <option value="Sahel Sahara Bank">Sahel Sahara Bank</option>
                        <option value="Sinapi Aba Savings and Loans">Sinapi Aba Savings and Loans</option>
                        <option value="Societe Generale Ghana Ltd">Societe Generale Ghana Ltd</option>
                        <option value="Standard Chartered">Standard Chartered</option>
                        <option value="Universal Merchant Bank">Universal Merchant Bank</option>
                        <option value="Zenith Bank">Zenith Bank</option> -->
                    </select>
                    <p id="BankSelectMessage" class="message"></p> <br>
                </div>
            
            
            
            
                <div class="input">
                    <label for="account_number">Account Number</label> <br />
                    <input type="tel" name="account_number" id="account_number">
                </div>
            
                <div class="input">
                    <label for="account_name">Account name</label> <br />
                    <input type="text" name="account_name" id="account_name">
                </div>
            
                <div class="input">
                    <label for="ghana_card">Upload Ghana Card</label> <br />
                    <input type="file" name="ghana_card" id="ghana_card" accept="image/*" />
                </div>
            
                <!-- <div class="input setHide">
                                <label>Account name</label> <br />
                                <input type="text" name="" id="" readonly required>
                              </div> -->
                <!-- <div class="input setHide">
                                <label>Id Type</label> <br />
                                <input type="text" name="" id="" required>
                              </div> -->
                <!-- <div class="input setHide">
                                <label>Id Number</label> <br />
                                <input type="text" name="" id="" required>
                              </div> -->
                <div class="input">
                    <label for="amount">Amount</label> <br />
            
                    <input type="tel" id="amount" name="amount" required />
                </div>
            
            </div>
            <button type="submit" id="submitBtn">Submit</button>
            <div style="display: flex; text-align:center; justify-content:center;">

                <a class="btn41-43 btn-41" href="{% url 'get_bank_withdrawal' %}">View Bank Withdrawals</a>
            </div>
        </form>
    </div>

</div>

</div>

<!-- <script>
    $(document).ready(function () {
        // Fetch banks when phone number is entered
        $('#phone_number').on('input', function () {
            let phoneNumber = $(this).val();
            if (phoneNumber.length >= 10) { // Assuming phone number is at least 10 digits
                $.ajax({
                    url: "{% url 'get_banks' %}",
                    data: { 'phone_number': phoneNumber },
                    success: function (data) {
                        $('#bank').empty().append('<option value="">Select Bank</option>');
                        data.forEach(function (bank) {
                            $('#bank').append(`<option value="${bank}">${bank}</option>`);
                        });
                        $('#bank').prop('disabled', false);
                    }
                });
            }
        });
        // Fetch accounts when bank is selected
        $('#bank').change(function () {
            let phoneNumber = $('#phone_number').val();
            let bank = $(this).val();
            $.ajax({
                url: "{% url 'get_accounts' %}",
                data: { 'phone_number': phoneNumber, 'bank': bank },
                success: function (data) {
                    $('#account_number').empty().append('<option value="">Select Account</option>');
                    data.forEach(function (account) {
                        $('#account_number').append(`<option value="${account}">${account}</option>`);
                    });
                    $('#account_number').prop('disabled', false);
                }
            });
        });

        // Fetch customer details when account is selected
        $('#account_number').change(function () {
            let accountNumber = $(this).val();
            $.ajax({
                url: "{% url 'get_customer_details' %}",
                data: { 'account_number': accountNumber },
                success: function (data) {
                    $('#account_name').val(data.account_name);
                }
            });
        });
    });



</script> -->

<!-- <script>
    document.getElementById("customerNumberBank").addEventListener("input", function (event) {
      let inputField = event.target;
      let message = document.getElementById("Bankmessage");
  
      // Ensure only numbers are entered
      inputField.value = inputField.value.replace(/\D/g, '');
  
      if (inputField.value.length < 10) {
        message.textContent = "The number must be at least 10 digits.";
        message.style.color = "red";
        message.style.display = "block"; // Ensure visibility
      } else {
        message.textContent = "";
        message.style.display = "none";
      }
    });
  
    document.getElementById("networkForm").addEventListener("submit", function (event) {
      let inputField = document.getElementById("customerNumberBank");
      let message = document.getElementById("Bankmessage");
      let bankSelect = document.getElementById("bank");
      let bankMessage = document.getElementById("BankSelectMessage"); // Message for bank selection
  
      let isValid = true; // Flag to check if form should be submitted
  
      // Validation for customer number
      if (inputField.value.length < 10) {
        message.textContent = "The number must be at least 10 digits.";
        message.style.color = "red";
        message.style.display = "block";
        isValid = false;
      } else {
        message.textContent = "";
        message.style.display = "none";
      }
  
      // Validation for bank selection
      if (bankSelect.value === "") {
        bankMessage.textContent = "Please select a bank.";
        bankMessage.style.color = "red";
        bankMessage.style.display = "block";
        isValid = false;
      } else {
        bankMessage.textContent = "";
        bankMessage.style.display = "none";
      }
  
      if (!isValid) {
        event.preventDefault(); // Prevent form submission if validation fails
      }
    });
  </script> -->



{% endblock %}